<!DOCTYPE html>
<html>
  <head>
    <title>canvas tutorial</title>
<style>
  .canvas-wrapper {
    position: relative;
  }
  .canvas-wrapper canvas {
    position: absolute;
    top: 0;
    left: 0;
  }
  #canvas1 {
    background: #666;
  }
  #canvas2 {
    opacity: 0.3;
  }
</style>
  </head>
  <body>
    <div class="canvas-wrapper">
      <canvas id="canvas1" width="640" height="480"></canvas>
      <canvas id="canvas2" width="640" height="480"></canvas>
          <script>
            var canvas = document.getElementById("canvas2");
            console.log("canvas.offsetLeft: " + canvas.offsetLeft);
            console.log("canvas.offsetTop: "  + canvas.offsetTop);
            function onDown(e){
                        console.log("down");
                      }
            function onUp(e){
                        console.log("up");
                      }
            function onClick(e){
                        console.log("click");
                        var x = e.clientX - canvas.offsetLeft;
                        var y = e.clientY - canvas.offsetTop;
                        console.log("x:", x, "y:", y);
                        drawRect(x, y, 10, 10);
                      }
            function onOver(e){
                        console.log("mouseover");
                      }
            function onOut(){
                        console.log("mouseout");
                      }

            function drawRect(x, y, width, height){
                        var context = canvas.getContext('2d');
                        context.fillRect(x, y, width, height);
                      }

            canvas.addEventListener('mousedown', onDown, false);
            canvas.addEventListener('mouseup', onUp, false);
            canvas.addEventListener('click', onClick, false);
            canvas.addEventListener('mouseover', onOver, false);
            canvas.addEventListener('mouseout', onOut, false);

          </script>
    </div>
  </body>
</html>
